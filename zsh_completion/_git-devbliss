#compdef git-extentions

_git-devbliss() {
    local curcontext="$curcontext" state line
    typeset -A opt_args

    _arguments \
        '1: :->commands'\
        '*: :->tags'

    case $state in
    commands)
        _arguments '1:Commands:(feature bug refactor research hotfix finish release status delete issue review merge-button close-button --version)'
    ;;
    *)
        case $words[2] in
        hotfix)
            if git branch >& /dev/null; then
                compadd "$@" $(git tag --column)
            fi
        ;;
        release)
            if git branch >& /dev/null; then
                compadd "$@" $(git tag --column)
            fi
        ;;
        finish)
            if git branch >& /dev/null; then
                compadd "$@" $(git branch -r | tail -n+2 | awk -F 'origin/' '{print $2}')
            fi
        ;;
        esac
    ;;
    esac
}
_git-devbliss "@"

